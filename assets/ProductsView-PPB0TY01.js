import{a as r}from"./axios-L6U4YIEh.js";import{f as h,g as y,c as a,a as t,F as i,h as u,d as p,t as o,o as c}from"./index-hthFqwET.js";var m={VITE_APP_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_PATH:"aca101139",BASE_URL:"/HexHwW6-comAPI/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const b={class:"container"},k={class:"row py-3"},P={class:"col-md-6"},x=t("h2",null,"產品列表",-1),f={class:"table table-hover mt-4"},A=t("thead",null,[t("tr",null,[t("th",null,"產品名稱"),t("th",null,"原價"),t("th",null,"售價"),t("th",null,"是否啟用"),t("th",null,"查看細節")])],-1),w={width:"150"},E={width:"120"},T={width:"120"},V={width:"150"},$={key:0,class:"text-success"},D={key:1},I={width:"120"},R=["onClick"],U={class:"col-md-6"},B=t("h2",null,"單一產品細節",-1),H={class:"card mb-3"},L=["src"],S={class:"card-body"},z={class:"card-title"},C={class:"badge bg-primary ms-2"},F={class:"card-text"},M={class:"card-text"},N={class:"me-2"},O={class:"text-muted text-decoration-line-through"},W=["src"],j={key:1},K={__name:"ProductsView",setup(q){const n=h([]),s=h({}),v=l=>{s.value=l},g=()=>{const{VITE_APP_URL:l}=m,{VITE_APP_PATH:_}=m;r.get(`${l}/api/${_}/products/all`).then(e=>{n.value=e.data.products}).catch(e=>alert(e.response.data.message))};return y(()=>{const l=document.cookie.replace(/(?:(?:^|.*;\s*)WillyToken\s*=\s*([^;]*).*$)|^.*$/,"$1");r.defaults.headers.common.Authorization=l,g()}),(l,_)=>(c(),a("div",b,[t("div",k,[t("div",P,[x,t("table",f,[A,t("tbody",null,[(c(!0),a(i,null,u(n.value,e=>(c(),a("tr",{key:e.id},[t("td",w,o(e.title),1),t("td",E,o(e.origin_price),1),t("td",T,o(e.price),1),t("td",V,[e.is_enabled?(c(),a("p",$,"啟用")):(c(),a("p",D,"未啟用"))]),t("td",I,[t("button",{class:"btn btn-primary",type:"button",onClick:d=>v(e)}," 查看細節 ",8,R)])]))),128))])]),p(" "+o(`目前有 ${n.value.length} 項產品`),1)]),t("div",U,[B,s.value.title?(c(),a(i,{key:0},[t("div",H,[t("img",{src:s.value.imageUrl,alt:"",style:{"background-size":"cover",height:"350px"}},null,8,L),t("div",S,[t("h5",z,[p(o(s.value.title)+" ",1),t("span",C,o(s.value.category),1)]),t("p",F," 商品描述 : "+o(s.value.description),1),t("p",M,"商品內容 : "+o(s.value.content),1),t("p",null,[t("span",N,o(s.value.price),1),t("span",O,o(s.value.origin_price),1),t("span",null,"/ "+o(s.value.unit),1)])])]),(c(!0),a(i,null,u(s.value.imagesUrl,(e,d)=>(c(),a("img",{src:e,alt:"",key:"image"+d,class:"image m-2 img-fluid",style:{height:"150px","background-size":"cover"}},null,8,W))),128))],64)):(c(),a("p",j,"請選擇一個商品查看"))])])]))}};export{K as default};
